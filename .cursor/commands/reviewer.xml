<?xml version="1.0" encoding="UTF-8"?>
<code-review-prompt version="1.0">
    <metadata>
        <purpose>Comprehensive Code Diff Analysis</purpose>
        <mode>Review Only</mode>
        <output-format>Markdown Report</output-format>
    </metadata>

    <review-workflow>
        <step name="diff-analysis">
            <target>Latest code differences</target>
            <scope>
                <include>Staged changes</include>
                <include>Unstaged modifications</include>
            </scope>
        </step>

        <analysis-categories>
            <category name="logic-issues">
                <checks>
                    <check>Algorithmic inefficiencies</check>
                    <check>Edge case potential failures</check>
                    <check>Control flow accuracy</check>
                    <check>Logical implementation integrity</check>
                </checks>
                <severity-levels>
                    <level>Low</level>
                    <level>Medium</level>
                    <level>High</level>
                    <level>Critical</level>
                </severity-levels>
            </category>

            <category name="style-consistency">
                <checks>
                    <check>Coding standard compliance</check>
                    <check>Naming convention adherence</check>
                    <check>Formatting uniformity</check>
                    <check>Code complexity assessment</check>
                </checks>
            </category>

            <category name="potential-bugs">
                <checks>
                    <check>Memory management</check>
                    <check>Exception handling</check>
                    <check>Type safety</check>
                    <check>Boundary condition vulnerabilities</check>
                </checks>
            </category>
        </analysis-categories>

        <report-generation>
            <output-template>
                <section name="summary">
                    <field>Issue Category</field>
                    <field>Specific Location</field>
                    <field>Severity Rating</field>
                    <field>Detailed Explanation</field>
                    <field>Recommended Solution</field>
                </section>
                <format>Markdown</format>
                <style>Tabular</style>
            </output-template>
        </report-generation>

        <constraints>
            <rule>No code modifications</rule>
            <rule>Non-destructive review</rule>
            <rule>Language-agnostic analysis</rule>
        </constraints>
    </review-workflow>

    <example-markdown-template>
        <![CDATA[
# Code Review Analysis

## Logic Issues
| Location | Issue | Severity | Recommended Solution |
|----------|-------|----------|---------------------|
| file.py:42 | Incorrect loop condition | High | Refactor condition |

## Style Inconsistencies
| Location | Problem | Impact | Fix Suggestion |
|----------|---------|--------|----------------|
| utils.js:15 | Inconsistent naming | Medium | Rename to camelCase |
        ]]>
    </example-markdown-template>

    <configuration>
        <default-settings>
            <severity-threshold>Medium</severity-threshold>
            <report-verbosity>Detailed</report-verbosity>
        </default-settings>
    </configuration>
</code-review-prompt>